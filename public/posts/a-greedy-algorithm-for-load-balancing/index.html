<!doctype html>

<html lang="en">

<head>
  <title>A Greedy Algorithm for Load Balancing - Rat&#39;s blog</title>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Rat&#39;s 2nd blog" />
<meta name="author" content="Rat" /><meta property="og:title" content="A Greedy Algorithm for Load Balancing" />
<meta property="og:description" content="Preface This is from optional problem of problem set 2 of CS2040S course.
 Given $p$ processors and an integer array $\text{jobSize}$[ ]. The array has $m$ jobs and $i \text{th}$ job need $\text{jobSize}[i]$ time for a processor to handle." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.rye-catcher.codes/posts/a-greedy-algorithm-for-load-balancing/" />
<meta property="article:published_time" content="2021-01-20T18:20:25+08:00" />
<meta property="article:modified_time" content="2021-01-20T18:20:25+08:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="A Greedy Algorithm for Load Balancing"/>
<meta name="twitter:description" content="Preface This is from optional problem of problem set 2 of CS2040S course.
 Given $p$ processors and an integer array $\text{jobSize}$[ ]. The array has $m$ jobs and $i \text{th}$ job need $\text{jobSize}[i]$ time for a processor to handle."/>

<meta name="generator" content="Hugo 0.74.3" />
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://www.rye-catcher.codes/fontawesome/css/all.min.css" />
  
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  
  
  <link rel="stylesheet" type="text/css" href="https://www.rye-catcher.codes/css/styles.css" /></head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="https://www.rye-catcher.codes/">Rat&rsquo;s blog</a>
            </h1>

      <ul id="social-media">
             <li>
               <a href="https://github.com/Rye-Catcher" title="GitHub">
               <i class="fab fa-github fa-lg"></i>
               </a>
             </li>
      </ul>
      
      <p><em>An unexamined life is not worth living</em></p>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="https://www.rye-catcher.codes/posts/">
                <i class="fa-li fa  fa-lg"></i><span>Posts</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://www.rye-catcher.codes/about/">
                <i class="fa-li fa  fa-lg"></i><span>About</span>
            </a>
        </li>
        
    </ul>
</nav>


    <main>




<article>

    <h1>A Greedy Algorithm for Load Balancing</h1>

    
      <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2021-01-20T18:20:25&#43;08:00">Jan 20, 2021</time>
        </li>
        
        <li>
            Categories:
            <em>
                
                    
                    <a href="https://www.rye-catcher.codes/categories/algorithms">Algorithms</a>
                
            </em>
        </li>
        

        
        <li>
            <em>
                
                    
                    <a href="https://www.rye-catcher.codes/tags/greedy-algorithm">#Greedy Algorithm</a>
                
                    , 
                    <a href="https://www.rye-catcher.codes/tags/cs2040s">#CS2040S</a>
                
            </em>
        </li>
        

        <li>3 minutes read</li>
    </ul>
</aside>

    

    


    <h2 id="preface">Preface</h2>
<p>This is from optional problem of problem set 2 of CS2040S course.</p>
<blockquote>
<p>Given $p$ processors and an integer array $\text{jobSize}$[ ]. The array has $m$ jobs and $i \text{th}$ job need $\text{jobSize}[i]$ time for a processor to handle. What is the minimum achievable maximum load on any one processor ?</p>
</blockquote>
<p>The problem already stated that it is a NP-hard problem. All we need to do is to find a greedy algorithm to find a &ldquo;good&rdquo; solution and to prove this solution is no more than twice of the optimal solution (say it is 2-approximation of optimal).</p>
<p>The problem also gives hint that we only need to assigns each job to the least loaded processor.</p>
<p>I know how to implement this algorithm using heap, but have no idea of proving this property. So I turned to <em>Introduction of Algorithms</em> for help and, luckily, found there is an exercise in the chapter <em>approximation algorithm</em> which is almost the same! Then I read the chapters in parallel computing chapter and find this theorem. Just amazing!</p>
<p>The exercise problem is exercise 35-5, page 1135 of Introduction to Algorithms 3rd edition and proof is from page 782, Theorem 27.1 and 27.2.</p>
<h2 id="algorithm">Algorithm</h2>
<p>Heap, the rest omitted</p>
<p>The time complexity is $O((m + p) \log p)$</p>
<h2 id="proof">Proof</h2>
<p>Let $C_{max}$ denote the solution derived from the greedy algorithm, and $C_{opt}$ denote the optimal solution</p>
<p>Let $P_1$ denote the total amount of work, which is $\sum \text{jobSize[]}$</p>
<p>Let $P_{max}$ denote the maximum work load, which is maximum number in the $\text{jobSize}[]$ array</p>
<p>and $p$ is the number of processors</p>
<p>First we need to prove $C_{max} \leq  \lfloor{P_1 / p}\rfloor + P_{max}$</p>
<ol>
<li>
<p>Consider the time span during which all $p$ processors are doing a work, say it lasts $T_1$</p>
<p>Suppose this $T_1$ is greater than $\lfloor{P_1 / p}\rfloor$, say it is  $\lfloor{P_1 / p}\rfloor + 1$ (since we are doing this in an integer system)</p>
<p>then the amount of work done during this time span is $p \times (\lfloor{P_1 / p}\rfloor + 1) = P_1 - (P_1 \mod p) + p$</p>
<p>since $(P_1 \mod p) &lt; p$, the amount of work done during the time span is greater than $P_1$ ! which is contradictory !</p>
<p>Therefore $T_1 &lt;= \lfloor{P_1 / p}\rfloor$</p>
</li>
<li>
<p>Consider the time span during which NOT all $p$ processors are doing a work, say it lasts $T_2$</p>
<p>It is impossible for $T_2 &gt; P_{max}$ if we assigns each job to the *least loaded processor*</p>
<p>(not strict proof but I guess it is easy to understand)</p>
</li>
</ol>
<p>Because either all $p$ processors are doing a work or not all $p$ processors are doing a work</p>
<p>$C_{max}$, the longest time span, should be less or equal to the sum of these two time span.</p>
<p>So, $C_{max} \leq  \lfloor{P_1 / p}\rfloor + P_{max}$</p>
<p>Second, it is already given that $C_{opt} &gt;= \lfloor{P_1 / p}\rfloor$ and $C_{opt} &gt;= P_{max}$</p>
<p>it is not hard to deduce that $C_{max} &lt;= 2 \times C_{opt}$</p>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://www.rye-catcher.codes/posts/euclid-algorithm-a-beautiful-way-to-compute-gcd/"><i class="fa fa-chevron-circle-left"></i> Euclid Algorithm a Beautiful Way to Compute Gcd</a>
        </li>
        
        
    </ul>
</section>
  
    
        <section id="utterances"></section>

<script>
    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        let s = document.createElement("script");
        s.setAttribute("repo", "Rye-Catcher\/hugo-blog");
        s.src = "https://utteranc.es/client.js";
        
          s.setAttribute("issue-term", "url");
        
        
        document.getElementById("utterances").innerHTML = "";
        document.getElementById("utterances").appendChild(s);
    } else {
        let s = document.createElement("script");
        s.setAttribute("repo", "Rye-Catcher\/hugo-blog");
        s.src = "https://utteranc.es/client.js";
        
          s.setAttribute("issue-term", "url");
        
        
        document.getElementById("utterances").innerHTML = "";
        document.getElementById("utterances").appendChild(s);
    }
</script>

    
    
  





</main>
    <footer>
        <h6>Copyright Â© 2020 - Rat |
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://www.rye-catcher.codes/index.xml">Subscribe </a></h6>
    </footer>
</div>
<script src="https://www.rye-catcher.codes/js/scripts.js"></script>

</body>

</html>

